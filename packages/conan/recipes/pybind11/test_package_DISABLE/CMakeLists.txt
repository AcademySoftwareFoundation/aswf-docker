cmake_minimum_required(VERSION 3.27)
project(test_package CXX)
find_package(Python COMPONENTS Interpreter Development REQUIRED)
find_package(pybind11 CONFIG REQUIRED)
#if(NOT COMMAND pybind11_add_module)
#foreach(INCDIR IN LISTS pybind11_INCLUDE_DIRS)
#    if(EXISTS "${INCDIR}/../lib64/cmake/pybind11/pybind11NewTools.cmake")
#        include("${INCDIR}/../lib64/cmake/pybind11/pybind11Config.cmake")
#
#        include("${INCDIR}/../lib64/cmake/pybind11/pybind11Common.cmake")
#        include("${INCDIR}/../lib64/cmake/pybind11/pybind11NewTools.cmake")
#        break()
#    elseif(EXISTS "${INCDIR}/../../lib64/cmake/pybind11/pybindNew11Tools.cmake")
#        include("${INCDIR}/../../lib64/cmake/pybind11/pybind11Config.cmake")
#        include("${INCDIR}/../../lib64/cmake/pybind11/pybind11Common.cmake")
#        include("${INCDIR}/../../lib64/cmake/pybind11/pybind11NewTools.cmake")
#        break()
#    endif()
#endforeach()
#endif()
pybind11_add_module(test_package MODULE test_package.cpp)
set_property(TARGET test_package PROPERTY CXX_STANDARD 17)
